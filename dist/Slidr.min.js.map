{"version":3,"sources":["build/browser/Slide.js","build/browser/Slidr.js","index.js"],"names":["Slide","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","properties","name","Error","_properties","DEFAULT_SLIDE_PROPS","element","document","querySelector","selector","_index","_active","defineProperty","get","enumerable","configurable","timeout","shown","_","beforeEnter","beforeLeave","set","index","active","classList","toggle","dispatchEvent","event_name","isActive","Slidr","options","DEFAULT_OPTIONS","slides","loops","_events","container","_buildFromHTML","Infinity","animate","animation_class","enter_class","add","slide_props","slide","push","run","_dispatchEvent","current_slide","_slide","e","getSlideByIndex","getSlideByName","find","listen","callback","keys","includes","_this","querySelectorAll","forEach","el","remove","window","setTimeout","_a","dataset","parseInt","require","default"],"mappings":"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","file":"Slidr.min.js","sourceRoot":"..","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * @property {SlideProps} _properties\n * @property {number} _index\n */\nvar Slide = /** @class */ (function () {\n    /**\n     * @param {SlideProps} properties\n     */\n    function Slide(properties) {\n        if (!properties.name || !properties.name.length)\n            throw new Error('[Err] Slide.constructor :: property \"name\" is required');\n        this._properties = __assign(__assign({}, Slide.DEFAULT_SLIDE_PROPS), properties);\n        this.element = document.querySelector(this.selector);\n        if (this.element === null)\n            throw new Error(\"[Err] Slide.constructor :: DOM element '\" + this.selector + \"' does not exists\");\n        this._index = null;\n        this._active = false;\n    }\n    Object.defineProperty(Slide.prototype, \"name\", {\n        /**\n         * @returns {String}\n         */\n        get: function () {\n            return this._properties.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Slide.prototype, \"timeout\", {\n        /**\n         * @returns {number}\n         */\n        get: function () {\n            return this._properties.timeout;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Slide.prototype, \"selector\", {\n        /**\n         * @returns {String}\n         */\n        get: function () {\n            return \"[data-slide=\\\"\" + this._properties.name + \"\\\"]\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Slide, \"DEFAULT_SLIDE_PROPS\", {\n        /**\n         * @returns {SlideProps}\n         */\n        get: function () {\n            return {\n                name: '',\n                timeout: 0,\n                shown: function (_) { },\n                beforeEnter: function (_) { },\n                beforeLeave: function (_) { }\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Slide.prototype, \"index\", {\n        /**\n         * @returns {number}\n         */\n        get: function () {\n            return this._index;\n        },\n        /**\n         * @params {number}\n         */\n        set: function (index) {\n            this._index = index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Slide.prototype, \"active\", {\n        /**\n         * @returns {Boolean}\n         */\n        get: function () {\n            return this._active;\n        },\n        /**\n         * @params {Boolean}\n         */\n        set: function (active) {\n            this._active = active;\n            this.element.classList.toggle('active');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {String} event_name\n     * @returns {Function}\n     */\n    Slide.prototype.dispatchEvent = function (event_name) {\n        return this._properties[event_name].call(this);\n    };\n    /**\n     * @returns {Boolean}\n     */\n    Slide.prototype.isActive = function () {\n        return this._active === true;\n    };\n    return Slide;\n}());\nexport default Slide;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Slide from \"./Slide\";\n/**\n * @class\n * @property {SliderOptions} options\n * @property {SlideProps[]} slides\n * @property {Number} index\n * @property {Number} loops\n * @property {[String]: Function} _events\n */\nvar Slidr = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {SliderOptions} options\n     */\n    function Slidr(options) {\n        if (options === void 0) { options = {}; }\n        this.options = __assign(__assign({}, Slidr.DEFAULT_OPTIONS), options);\n        this.slides = [];\n        this.index = 0;\n        this.loops = 0;\n        this._events = {\n            'beforeEnter': function () { },\n            'beforeLeave': function () { },\n            'loopend': function () { },\n            'change': function () { }\n        };\n        if (this.options.container && this.options.container.length)\n            this._buildFromHTML();\n    }\n    Object.defineProperty(Slidr, \"DEFAULT_OPTIONS\", {\n        /**\n         * @returns {SliderOptions}\n         */\n        get: function () {\n            return {\n                loops: Infinity,\n                animate: true,\n                animation_class: 'fade',\n                enter_class: 'fade-in'\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Slidr.prototype, \"current_slide\", {\n        /**\n         * @returns {Slide}\n         */\n        get: function () {\n            return this.slides[this.index];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @returns {Slidr}\n     */\n    Slidr.prototype.add = function (slide_props) {\n        var slide = new Slide(slide_props);\n        slide.index = this.slides.push(slide);\n        if (this.options.animate)\n            document\n                .querySelector(slide.selector)\n                .classList.add(this.options.animation_class);\n        return this;\n    };\n    /**\n     * @returns {Slidr}\n     */\n    Slidr.prototype.run = function () {\n        if (this.index >= this.slides.length) {\n            this.index = 0;\n            this.loops++;\n            if (this.loops === this.options.loops) {\n                this._dispatchEvent('loopend');\n                return this;\n            }\n        }\n        this.current_slide.active = true;\n        this._dispatchEvent('change');\n        try {\n            this._slide();\n        }\n        catch (e) {\n            throw e;\n        }\n        return this;\n    };\n    /**\n     * @param {Number} index\n     * @returns {Slide|null}\n     */\n    Slidr.prototype.getSlideByIndex = function (index) {\n        return this.slides[index] || null;\n    };\n    /**\n     * @param {String} name\n     * @returns {Slide|null}\n     */\n    Slidr.prototype.getSlideByName = function (name) {\n        return this.slides.find(function (slide) { return slide.name === name; }) || null;\n    };\n    /**\n     *\n     * @param {String} event_name\n     * @param {Function} callback\n     * @returns {Slidr}\n     */\n    Slidr.prototype.listen = function (event_name, callback) {\n        if (!Object.keys(this._events).includes(event_name))\n            throw new Error(\"[Err] Slidr.listen :: Event '\" + event_name + \"' does not exists.\");\n        this._events[event_name] = callback;\n        return this;\n    };\n    /**\n     * @throws {Error}\n     * @private\n     */\n    Slidr.prototype._slide = function () {\n        var _this = this;\n        if (!this.current_slide)\n            throw new Error('[Err] Slidr._slide :: no slide found at index ' + this.index);\n        this._dispatchEvent('beforeEnter');\n        this.current_slide.dispatchEvent('beforeEnter');\n        if (this.options.animate)\n            document\n                .querySelectorAll(\"[data-slide]:not(\" + this.current_slide.selector + \")\")\n                .forEach(function (el) { return el.classList.remove(_this.options.enter_class); });\n        window.setTimeout(function () {\n            if (_this.options.animate)\n                document.querySelector(_this.current_slide.selector).classList.add(_this.options.enter_class);\n            _this.current_slide.dispatchEvent('shown');\n            window.setTimeout(function () {\n                _this._dispatchEvent('beforeLeave');\n                _this.current_slide.dispatchEvent('beforeLeave');\n                _this.current_slide.active = false;\n                _this.index++;\n                _this.run();\n            }, _this.current_slide.timeout);\n        }, this.options.animate ? 350 : 0);\n    };\n    /**\n     * @private\n     */\n    Slidr.prototype._buildFromHTML = function () {\n        var _this = this;\n        var slides = document.querySelectorAll(this.options.container + ' [data-slide]');\n        if (!slides)\n            throw new Error(\"[Err] Slidr._buildFromHTML :: No slides found on container element '\" + this.options.container + \"'\");\n        slides.forEach(function (_a) {\n            var dataset = _a.dataset;\n            if (dataset.slide && dataset.slide.length) {\n                _this.add({\n                    name: dataset.slide,\n                    timeout: dataset.timeout ? parseInt(dataset.timeout, 10) : 0\n                });\n            }\n        });\n    };\n    /**\n     * @param {String} event_name\n     * @private\n     */\n    Slidr.prototype._dispatchEvent = function (event_name) {\n        return this._events[event_name].call(this);\n    };\n    return Slidr;\n}());\nexport default Slidr;\n","window.Slidr = require('./build/browser/Slidr').default\n"]}